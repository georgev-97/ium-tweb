create table role(
	id serial primary key,
	name varchar not null unique);

insert into role(id, name)
	values('0','admin');

insert into role(id, name)
	values('1','base');

create table public.user(
	id serial primary key,
	account varchar not null unique,
	password varchar not null,
	role integer references role(id));

create table course(
	id serial primary key,
	name varchar not null unique,
	description varchar not null);

create table professor(
	id serial primary key,
	name varchar not null,
	username varchar not null unique,
	email varchar not null unique);

create table slot(
	id serial primary key,
	day varchar not null,
	startHour integer not null,
	endHour integer not null);

create table course_professor(
	id serial primary key,
	course integer references course(id),
	professor integer references professor(id),
	unique(course, professor));

create table reservation(
	id serial primary key,
	course_professor integer references course_professor(id),
	slot integer references slot(id),
	state varchar not null);

create table reservations_user(
	id serial primary key,
	reservation integer references reservation(id),
	userId integer references public.user(id));